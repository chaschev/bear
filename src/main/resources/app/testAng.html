<!DOCTYPE html>
<!--
  ~ Copyright (C) 2013 Andrey Chaschev.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html>
<head>
    <script src="js/jquery-2.0.3.min.js"></script>
    <script src="js/angular.min.js"></script>
</head>

<script type="text/javascript">
    function MyCntrl($scope) {
        $scope.colors = [
            {name:'black', shade:'dark'},
            {name:'white', shade:'light'},
            {name:'red', shade:'dark'},
            {name:'blue', shade:'dark'},
            {name:'yellow', shade:'light'}
        ];
        $scope.color = $scope.colors[2]; // red


        $scope.colors2 = [
            'black', 'red', 'white'
        ];
        $scope.color2 = $scope.colors2[2]; // white

        $scope.$watch('color2', function(newVal){
            console.log('color2:', newVal);
        });
    }
</script>

<body ng-app>

<div ng-controller="MyCntrl">
    <ul>
        <li ng-repeat="color in colors">
            Name: <input ng-model="color.name">
            [<a href ng-click="colors.splice($index, 1)">X</a>]
        </li>
        <li>
            [<a href ng-click="colors.push({})">add</a>]
        </li>
    </ul>
    <hr/>
    Color (null not allowed):
    <select ng-model="color" ng-options="c.name for c in colors"></select><br>

    Color TWOOOO:
    <select ng-model="color2" ng-options="c for c in colors2"></select><br>

    EDIT: <input type="text" ng-model="color2" />
    <br>


    Color (null allowed):
      <span  class="nullable">
        <select ng-model="color" ng-options="c.name for c in colors">
            <option value="">-- choose color --</option>
        </select>
      </span><br/>

    Color grouped by shade:
    <select ng-model="color" ng-options="c.name group by c.shade for c in colors">
    </select><br/>


    Select <a href ng-click="color={name:'not in list'}">bogus</a>.<br>
    <hr/>
    Currently selected: {{ {selected_color:color}  }}
    <div style="border:solid 1px black; height:20px"
         ng-style="{'background-color':color.name}">
    </div>
</div>

</body>
</html>