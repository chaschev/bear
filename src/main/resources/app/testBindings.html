<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script type="text/javascript" src="js/stacktrace.js"></script>
    <script type="text/javascript" src="js/java-bindings.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <!--<script type='text/javascript' src='js/firebug-lite.js'></script>-->
    <script type="text/javascript">
        Java.log("before $(document).ready(...)");

        $(document).ready(function ()
        {
            Java.log("document loaded");
//            window.app.onClick1({'t': 1});
            $('#enableFirebug').click(function (e)
            {
                e.preventDefault();
                window.app.enableFirebug();
            });

            Java.log("classTest");
            $('#classTest').click(function (e)
            {
                e.preventDefault();
                classTest();
            });

            $('#openBeanTest').click(function (e)
            {
                e.preventDefault();
                openBeanTest();
            });

            $('#bindingsTest').click(function (e)
            {
                e.preventDefault();
                bindingsTest();
            });
        });

        function openBeanTest(){
            try {
                Java.log("open bean test");

//                Java.log("sample instance - 1: ", Java.newInstance('chaschev.js.ex.Foo', 'hi, Foo!'))
                Java.log("sample instance - 2: ", Java.newInstance2('chaschev.js.ex.Foo', 'hi Foo!', "lala"));
            } catch (e) {
                Java.printStackTrace(e);
            }
        }

        function bindingsTest(){
            try {
                Java.log("bindings test");

                var array = Java.Collections.newObjectArray(2);

                Java.log("array", array);
                Java.log("array - 2", [2,3]);

                array[0] = 'ss';
                array[1] = 1;

                Java.log("array - 3", array);
            } catch (e) {
                Java.printStackTrace(e);
            }
        }

        function classTest(){
            Java.log("running classTest");
            try {
                var Foo = Java.getClass('chaschev.js.ex.Foo');

                var foo1 = new Foo("s");

                Java.log(foo1);
                Java.log(foo1.s);
            } catch (e) {
                Java.log(e);

                Java.printStackTrace(e);
            }
        }
    </script>
    <style>
        .links{
            text-decoration: underline;
            color: blue;
        }
    </style>
</head>
<body>
<div class="links">
<div  id="enableFirebug">Enable firebug</div> <br/>
<div id="classTest">Run Tests</div> <br/>
<div id="openBeanTest">OpenBean test</div> <br/>
<div id="bindingsTest">Bindings test</div> <br/>
</div>


</body>
</html>